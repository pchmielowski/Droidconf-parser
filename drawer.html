<!DOCTYPE html>
<html>

<head>

    <script src="jquery-3.2.1.min.js"></script>
    <style>
        div.talk {
            font-family: sans-serif;
            text-align: center;
            position: absolute;
            border: 1px solid white;
            background-color: gray;
        }

        div.hour {
            position: absolute;
            background-color: #ccfaff
        }

        div.day {
            position: absolute;
            background-color: #abcfda
        }
    </style>
</head>

<body>

    <div id='canvas'></div>
    <script>
        $.getJSON("data.json", function (data) {
            let hourZero = 10;
            let hourEnd = 19;
            let HOURS_PER_DAY = hourEnd - hourZero;
            // hh:mm to integer minutes relative to 9:00
            let asMinutes = (asString, day) => {
                let splitted = asString.split(':');
                return (splitted[0] - hourZero + HOURS_PER_DAY * day) * 60 + parseInt(splitted[1]);
            };
            let SCALING = 1.7;
            let drawDiv = (cls, width, top, left, height, text) => {
                document.getElementById('canvas').innerHTML
                    += '<div class=' + cls
                    + ' style="width: ' + width
                    + 'px;top: ' + top
                    + 'px;left: ' + left
                    + 'px;height: ' + height + 'px;">'
                    + text
                    + '</div>';
            };
            let drawTimeSlots = (hourZero, hourEnd, SCALING) => {
                for (var day = 0; day < 2; day++) {
                    drawDiv('day', 30, (day * HOURS_PER_DAY) * 60 * SCALING,
                        0, HOURS_PER_DAY * 60 * SCALING, day + 1);
                    for (var i = 0; i < HOURS_PER_DAY; i++) {
                        drawDiv("hour", window.innerWidth,
                            (i + day * HOURS_PER_DAY) * 60 * SCALING, 30,
                            30 * SCALING, (i + hourZero) + ":00");
                    }
                }
            }
            drawTimeSlots(hourZero, hourEnd, SCALING);

            let WIDTH = 300;
            let MARGIN = 100;
            data.map(t => {
                let day = t.date === "09/04/2017" ? 0 : 1;
                let start = asMinutes(t.starts, day);
                let end = asMinutes(t.ends, day);
                return {
                    x: (t.room - 1) * WIDTH + MARGIN,
                    y: start * SCALING,
                    w: WIDTH,
                    h: end * SCALING - start * SCALING,
                    topic: t.topic
                }
            }).forEach(it => {
                drawDiv("talk", it.w, it.y, it.x, it.h, it.topic);
            });

        });
    </script>
</body>

</html>